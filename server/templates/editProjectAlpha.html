{% extends 'base.html' %}
{% block current_project_active %}active{% endblock %}

{% block head %}
<title>HMSE | Simulation Test project merged</title>
<link rel="stylesheet" href="/static/css/currentProject.css">
<link rel="stylesheet" href="/static/css/layout.css">
<link rel="stylesheet" href="/static/css/uploadModflow.css">
<link rel="stylesheet" href="/static/css/uploadHydrus.css">
<link rel="stylesheet" href="/static/css/uploadWeatherFile.css">
{% endblock %}
{% block body %}
<div class="container mt-5" id="configuration-content">
    <div class="row justify-content-md-center">
        <div class="col-lg-9">
            <div class="text-center">
                <h1 class="display-4">Summary for project test project</h1>
            </div>
        </div>
    </div>
    <div class="row justify-content-md-center">
        <div class="col-auto">
            <a type="button" id="downloadReadyProject" hidden class="btn btn-success btn-lg"
               href="Test data"> Results
            </a>
        </div>
    </div>
    <div class="container">
        <div class="row justify-content-md-center">
            <div class="col-lg-9">
                <div class="config-labels">
                    <h3 style="text-align: center">Project Configuration</h3>
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item ">
                            <span class="slice-column left">Project Name</span>
                            <span class="slice-column right">{{ metadata.project_id }}</span>
                        </li>
                        <li class="list-group-item">
                            <span class="slice-column left">Start Date</span>
                            <span class="slice-column right">{{ metadata.start_date }}</span>
                        </li>
                        <li class="list-group-item ">
                            <span class="slice-column left">End Date</span>
                            <span class="slice-column right">{{ metadata.end_date }}</span>
                        </li>
                        <li class="list-group-item ">
                            <span class="slice-column left">Latitude</span>
                            <span class="slice-column right">{{ metadata.lat }}</span>
                        </li>
                        <li class="list-group-item ">
                            <span class="slice-column left">Longitude</span>
                            <span class="slice-column right">{{ metadata.long }}</span>
                        </li>
                        <li class="list-group-item ">
                            <span class="slice-column left">Spin Up </span>
                            <span class="slice-column right">{{ metadata.spin_up }}</span>
                        </li>
                    </ul>
                    <div class="button-edit">
                        <span class="right">
                            <a type="button" class="btn btn-secondary"
                               href="Test data">
                                Edit Configuration
                            </a>
                        </span>
                    </div>
                </div>
                <div class="config-labels">
                    <h3 style="text-align: center">Modflow model</h3>
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item ">
                            <span class="slice-column left">Modflow Model</span>
                            <span class="slice-column right">Test data</span>
                        </li>
                        <li class="list-group-item">
                            <span class="slice-column left">Grid Size</span>
                            {% if True %}
                            <span class="slice-column right">Test data cells</span>
                            {% else %}
                            <span class="slice-column right">-</span>
                            {% endif %}
                        </li>
                        <li class="list-group-item ">
                            <span class="slice-column left">Grid Unit</span>
                            <span class="slice-column right">Test data</span>
                        </li>
                    </ul>
                </div>
                <div class="config-labels">
                    <h3 style="text-align: center">Hydrus models</h3>
                    <ul class="list-group list-group-flush">
                        {% if True %}
                        <li class="list-group-item ">
                            <span class="slice-column left">Hydrus Model Test data</span>
                            <span class="slice-column right">Test data</span>
                        </li>
                        <li class="list-group-item ">
                            <span class="slice-column left">Hydrus Model Test data</span>
                            <span class="slice-column right">Test data</span>
                        </li>
                        {% else %}
                        <li class="list-group-item ">
                            <span class="slice-column left">Hydrus models</span>
                            <span class="slice-column right">-</span>
                        </li>
                        {% endif %}
                    </ul>
                    <div class="button-edit">
                        <span class="right">
                            <a type="button" class="btn btn-secondary"
                               href="Test data">
                                Upload weather files
                            </a>
                        </span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="jumbotron">
    <div class="container mt-5">
        <div class="row justify-content-md-center">

            <div class="row-lg-9">
                <div class="text-center">
                    <h3 class="display-4">Modflow</h3>
                    <p class="lead">Drag and drop</p>
                </div>
                <hr class="my-4">

                <div class="container" style="background: white; padding: 2em; border-radius: 5px;">
                    <div class="panel panel-default">
                        <div class="panel-heading"><strong>Upload Files</strong></div>
                        <div class="panel-body">

                            <!-- Drop Zone -->
                            <h6>Drag and drop files below</b>.</h6>
                            <div class="upload-drop-zone" id="drop-zone-modflow">
                                Just drag and drop files here
                            </div>
                        </div>
                    </div>
                </div> <!-- /container -->
                {% if True %}
                <div class="container">
                    <div class="row justify-content-md-center">
                        <div class="col-lg-9">
                            <div>
                                <h5 style="text-align: center">Models uploaded:</h5>
                                <ul id="models-list" class="list-group list-group-flush">
                                    {% if True %}
                                    <li class="list-group-item">
                                        <span class="slice-column left" style="model-line">Model name</span>
                                        <span class="slice-column right">
                                            <button type="button" class="btn btn-danger right" onClick="doDelete('{{ name }}')">Remove</button>
                                        </span>
                                    </li>
                                    <li class="list-group-item">
                                        <span class="slice-column left" style="model-line">Model name</span>
                                        <span class="slice-column right">
                                            <button type="button" class="btn btn-danger right" onClick="doDelete('{{ name }}')">Remove</button>
                                        </span>
                                    </li>
                                    {% endif %}
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                {% endif %}
            </div>

            <div class="row-lg-9">
                <div class="text-center">
                    <h3 class="display-4">Hydrus</h3>
                    <p class="lead">Drag and drop
                    </p>
                </div>
                <hr class="my-4">

                <div class="container" style="background: white; padding: 2em; border-radius: 5px;">
                    <div class="panel panel-default">
                        <div class="panel-heading"><strong>Upload Files</strong></div>
                        <div class="panel-body">

                            <!-- Drop Zone -->
                            <h6>Drag and drop files below</b>.</h6>
                            <div class="upload-drop-zone" id="drop-zone">
                                Just drag and drop files here
                            </div>
                        </div>
                    </div>
                </div> <!-- /container -->
                {% if True %}
                <div class="row justify-content-md-center">
                    <div class="col-lg-9">
                        <div>
                            <h5 style="text-align: center">Models uploaded:</h5>
                            <ul class="list-group list-group-flush">
                                <li class="list-group-item">
                                    <span class="slice-column left" style="model-line">Model name</span>
                                    <span class="slice-column right">
                                        <button type="button" class="btn btn-danger right" onClick="doDelete('{{ name }}')">Remove</button>
                                    </span>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
                {% endif %}
            </div>
            <div class="row-lg-9">
                <div class="text-center">
                    <h1 class="display-4">Weather</h1>
                    <p class="lead">Drag and drop</p>
                </div>
                <hr class="my-4">
                <div class="container" style="background: white; padding: 2em; border-radius: 5px;">
                    <div class="panel panel-default">
                        <div class="panel-heading"><strong>Upload Files</strong></div>
                        <div class="panel-body">

                            <!-- Drop Zone -->
                            <h6>Drag and drop files below</h6>
                            <div class="upload-drop-zone" id="drop-zone-weather">
                                Just drag and drop files here
                            </div>
                        </div>
                    </div>
                    <div class="row" style="padding: 0 15px;">
                    </div>
                </div> <!-- /container -->
                {% if True %}
                <div class="row justify-content-md-center">
                    <div class="col-lg-9">
                        <div>
                            <h5 style="text-align: center">Models uploaded:</h5>
                            <ul class="list-group list-group-flush">
                                <li class="list-group-item">
                                    <span class="slice-column left" style="model-line">Model name</span>
                                    <span class="slice-column right">
                                        <button type="button" class="btn btn-danger right" onClick="doDelete('{{ name }}')">Remove</button>
                                    </span>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
                {% endif %}
            </div>
        </div>
    </div>
</div>


<div class="container mt-5" id="define-method-content">
    <div class="row justify-content-md-center">
        <div class="col-lg-9">
            <div class="text-center">
                <h1 class="display-4">Select method for defining shapes</h1>
            </div>
        </div>

    </div>

    <div class="row justify-content-md-center">
        <div class="col-lg-4">
            <div class="card card-display">
                <div class="card-body">
                    <h4 class="card-title">Recharge RCH</h4>
                    <p class="card-text">This method of defining shapes is prepared from recharge file. In this
                        option
                        you will be able to link Hydrus models to the detected zones.</p>
                </div>
                <div class="card-footer">
                    <button type="button" class="btn btn-primary right" onclick="rchShapes({{ project_id }})">Choose</button>
                </div>
            </div>
        </div>
        <div class="col-lg-4">
            <div class="card card-display">
                <div class="card-body">
                    <h4 class="card-title">Define shapes manually</h4>
                    <p class="card-text">In this option you will be able to link Hydrus models to the selected
                        shapes.</p>
                </div>
                <div class="card-footer">
                    <button type="button" class="btn btn-primary right" onclick="manualShape({{ project_id }}, null, null)">Choose</button>
                </div>
            </div>
        </div>
    </div>

    <div class="row justify-content-md-center">
        <div class="col-lg-9">
        </div>
    </div>
</div>

<div class="container mt-5" id="define-shapes-content">
    <div class="row justify-content-md-center">
        <div class="col-lg-9">
            <div class="text-center">
                <h1 class="display-4">Select the fields covered by this Hydrus model</h1>
            </div>
        </div>
    </div>
    <div class="row justify-content-center my-4">
        <div class="col-2-auto mx-2"><h4>Brush Size</h4></div>
        <div class="col-2-auto">
            <select id="brush-size" class="form-control form-control-sm">
                <option selected value="0"> 1 Cell</option>
                <option value="1"> 9 Cells</option>
                <option value="2"> 25 Cells</option>
                <option value="3"> 49 Cells</option>
                <option value="4"> 81 Cells</option>
            </select>
        </div>
    </div>
    <div class="row justify-content-center my-2">
        <strong>Hydrus model: Sample Hydrus model</strong>
    </div>

    <div class="row justify-content-center my-2">
        <div class="col-2-auto mx-2">
            <table class="table tab-manual table-sm" id="model-mesh" style="width: 500px">
                <tbody>
                {% for row in range(metadata.rows) %}
                <tr class="cell-row"
                    style="height: {{ metadata.row_cells[row] }}px !important; padding:0 !important;">
                    {% for col in range(metadata.cols) %}
                    <td class="cell border border-1" id="{{ 'cell_' + row|string + '_' + col|string }}"
                        style="width: {{ metadata.col_cells[col] }}px !important; padding:0 !important;">
                    </td>
                    {% endfor %}
                </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>

<div class="container mt-5" id="simulation-content">
    <div class="row justify-content-md-center">

        <div class="col-lg-9">
            <div class="text-center">
                <h1 class="display-4">Your simulation is ready to be started!</h1>
                <p class="lead">Click "Run" once you're ready to start it.</p>
            </div>
        </div>
    </div>

    <div class="row justify-content-md-center">
        <div class="col-lg-9">
                <span class="slice-column right" style="padding: 50px 15px;">
                    <button type="button" id="start-simulation" class="btn btn-primary right" href=""> Run </button>
                </span>
        </div>
    </div>
</div> <!-- container -->

<div class="container my-5 justify-content-center">
    <div class="row justify-content-center text-secondary" hidden id="hydrus-calc">
        <div class="col-7-auto ">
            <div class="spinner-border" id="hydrus-spinner" role="status">
                <span class="sr-only">Loading...</span>
            </div>
            <svg xmlns="http://www.w3.org/2000/svg" id="hydrus-tick" hidden width="25" height="25"
                 fill="currentColor"
                 class="bi bi-check"
                 viewBox="0 0 16 16">
                <path d="M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.267.267 0 0 1 .02-.022z"/>
            </svg>
            <svg height="25" width="25" id="hydrus-x" hidden>
                <line x1="7" y1="7" x2="18" y2="18" style="stroke:rgb(255,0,0); stroke-width:2"/>
                <line x1="18" y1="7" x2="7" y2="18" style="stroke:rgb(255,0,0); stroke-width:2"/>
            </svg>
            Calculating Hydrus-1d models.
        </div>
    </div>
    <div class="row justify-content-center text-secondary" hidden id="passing-calc">
        <div class="col-7-auto ">
            <div class="spinner-border" id="passing-spinner" role="status">
                <span class="sr-only">Loading...</span>
            </div>
            <svg xmlns="http://www.w3.org/2000/svg" hidden id="passing-tick" width="25" height="25"
                 fill="currentColor"
                 class="bi bi-check"
                 viewBox="0 0 16 16">
                <path d="M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.267.267 0 0 1 .02-.022z"/>
            </svg>
            <svg height="25" width="25" id="passing-x" hidden>
                <line x1="7" y1="7" x2="18" y2="18" style="stroke:rgb(255,0,0); stroke-width:2"/>
                <line x1="18" y1="7" x2="7" y2="18" style="stroke:rgb(255,0,0); stroke-width:2"/>
            </svg>
            Passing Hydrus-1d result to Modflow model.
        </div>
    </div>
    <div class="row justify-content-center text-secondary" hidden id="modflow-calc">
        <div class="col-7-auto ">
            <div class="spinner-border" id="modflow-spinner" role="status">
                <span class="sr-only">Loading...</span>
            </div>
            <svg xmlns="http://www.w3.org/2000/svg" hidden id="modflow-tick" width="25" height="25"
                 fill="currentColor"
                 class="bi bi-check"
                 viewBox="0 0 16 16">
                <path d="M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.267.267 0 0 1 .02-.022z"/>
            </svg>
            <svg height="25" width="25" id="modflow-x" hidden>
                <line x1="7" y1="7" x2="18" y2="18" style="stroke:rgb(255,0,0); stroke-width:2"/>
                <line x1="18" y1="7" x2="7" y2="18" style="stroke:rgb(255,0,0); stroke-width:2"/>
            </svg>
            Calculating Modflow model.
        </div>
    </div>
    <div class="row justify-content-center">
        <a type="button" id="download" hidden class="btn btn-success mx-5 my-2"
           href="{{ url_for('projects.project_download', project_id=project_id) }}">Download Results</a>
    </div>

</div>

{% endblock %}


{% block scripts %}
<script src="/static/js/currentProject.js"></script>
<script src="/static/js/uploadHydrus.js"></script>
<script src="/static/js/uploadModflow.js"></script>
<script src="/static/js/uploadWeatherFile.js"></script>
<script src="/static/js/defineMethod.js"></script>
<script src="/static/js/defineShapes.js"></script>
<script src="/static/js/simulation.js"></script>
<script src="/static/js/shapes.js"></script>
{% endblock %}
